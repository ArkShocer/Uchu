version: '{build}-{branch}'

branches:
  only:
    - dev

skip_tags: true

only_commits:
  files:
    - RakDotNet/
    - Uchu.Auth/
    - Uchu.Char/
    - Uchu.Core/
    - Uchu.Resources/
    - Uchu.World/

image:
  - Visual Studio 2017
  - Ubuntu

clone_depth: 1

cache:
  - packages -> **\*.csproj

install:
  - git submodule update --init --recursive
  - dotnet restore

configuration: Release

build:
  parallel: true
  project: Uchu.sln

artifacts:
  - path: Uchu.Auth\bin\
    name: UchuAuth
  - path: Uchu.Char\bin\
    name: UchuChar
  - path: Uchu.World\bin\
    name: UchuWorld
